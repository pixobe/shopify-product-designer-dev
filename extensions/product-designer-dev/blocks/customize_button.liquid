{{ 'main.css' | asset_url | stylesheet_tag }}
<script src="https://dev.product-designer-c4c.pages.dev/build/product-designer.esm.js" type="module" async></script>
<script src="{{ 'main.js' | asset_url }}" async></script>

<div>
  {% assign btn_background = block.settings.btn_background %}
  {% assign btn_color = block.settings.btn_color %}
  {% assign btn_placement = block.settings.btn_placement %}
  {% assign btn_label = block.settings.btn_label %}
  {% if btn_label == 'Customize' %}
    {% assign btn_label = 'Customize' | t %}
  {% endif %}

  {% render 'customize_button',
    btn_background: btn_background,
    btn_color: btn_color,
    btn_label: btn_label,
    btn_placement: btn_placement
  %}
</div>
{% schema %}
{
  "name": "Customize Button",
  "target": "body",
  "enabled_on": { "templates": ["product"] },
  "settings": [
    {
      "type": "text",
      "label": "Label",
      "id": "btn_label",
      "default": "Customize",
      "info": "Label of the button"
    },
    {
      "type": "color",
      "label": "Background",
      "default": "#f9f9f9",
      "id": "btn_background"
    },
    {
      "type": "color",
      "label": "Text Color",
      "default": "#3d3d3d",
      "id": "btn_color"
    },
    {
      "type": "select",
      "id": "btn_placement",
      "label": "Button Placement",
      "info": "Placement of the button",
      "options": [
        { "value": "floating", "label": "Floating" },
        { "value": "after_cart_button", "label": "After Cart Buttons" }
      ],
      "default": "floating"
    }
  ]
}
{% endschema %}
