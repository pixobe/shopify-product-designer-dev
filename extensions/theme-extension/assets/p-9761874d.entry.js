import{r as e,c as t,h as o,H as r,g as a}from"./p-CjXuplqk.js";const s=class{constructor(o){e(this,o),this.mediaFrameEvent=t(this,"mediaFrameEvent"),o.$hostElement$["s-ei"]?this.internals=o.$hostElement$["s-ei"]:(this.internals=o.$hostElement$.attachInternals(),o.$hostElement$["s-ei"]=this.internals)}name;value=[];viewonly=!1;platform="wp";newGalleryName="";mediaFrameEvent;internals;componentWillLoad(){this.internals.setFormValue(JSON.stringify(this.value))}componentDidRender(){this.internals.setFormValue(JSON.stringify(this.value))}handleNameInput(e){this.newGalleryName=e.target.value}addGallery(){const e=this.newGalleryName.trim();e&&(this.value=[{name:e,images:[]},...this.value],this.newGalleryName="",this.internals.setFormValue(JSON.stringify(this.value)))}deleteGallery(e){const t=this.value.filter(((t,o)=>o!==e));this.value=[...t],this.internals.setFormValue(JSON.stringify(this.value))}handleKeyDown(e){"Enter"===e.key&&this.addGallery()}uploadImages(e){"wp"===this.platform&&this.uploadWordPress(e)}deleteImage(e,t){const o=[...this.value];o[e]={...o[e],images:o[e].images.filter((e=>e!==t))},this.value=o,this.internals.setFormValue(JSON.stringify(this.value))}uploadWordPress(e){if(!e)return void alert("Gallery name is required.");wp||alert("Unable to find Wordpress Environment");const t=wp.media({title:"Select Image",button:{text:"Use this image"},multiple:"add",library:{type:"image"}});t.on("select",(()=>{const o=t.state().get("selection").toJSON();if(o.length>0){const t=o.map((e=>({src:e.url})));e.images=[...e.images,...t],this.value=[...this.value]}})),t.open()}render(){return o(r,{key:"760998b2de519978ecf5da4aff4e54be5f8dec94",class:{"view-only":this.viewonly}},o("div",{key:"0366db7966786e0c307e4f9f37b61d62351b15e2",class:"gallery-container"},o("div",{key:"9c80336bc8a91405677de9515ffbb7c42be49392",class:"gallery-input"},o("input",{key:"720063fd58e908bca56543d8ab1eb8734ab53728",type:"text",placeholder:"Enter gallery name",value:this.newGalleryName,onInput:e=>this.handleNameInput(e),onKeyDown:e=>this.handleKeyDown(e)}),o("button",{key:"ea0bbc0df34b275ca452e40a2cc8af26f5ffc892",onClick:()=>this.addGallery()},"Add Gallery")),o("div",{key:"53efd7cbdb042f0229a436c3192248bb4b2ba0f6",class:"gallery-list"},0===this.value?.length?o("p",{class:"empty-message"},"No galleries yet."):this.value?.map(((e,t)=>o("div",{class:"gallery-item",key:t},o("div",{class:"gallery-header"},o("h3",null,e.name),o("div",{class:"button-group button-actions"},o("button",{onClick:()=>this.uploadImages(e)},o("icon-add-image",null)),o("button",{onClick:()=>this.deleteGallery(t)},o("icon-trash",null)))),o("div",{class:"gallery-content"},o("image-grid",{images:e.images,viewonly:this.viewonly,onImageDelete:e=>this.deleteImage(t,e.detail)}))))))))}static get formAssociated(){return!0}};s.style=":host button{all:unset;display:block;position:relative;border:none;outline:none;margin:0;padding:0;background-color:transparent}:host button.button-rounded{border-radius:50%;padding:4px}:host .button-group{display:flex;gap:1rem}:host{display:block}:host .gallery-container{font-family:sans-serif;max-width:500px}:host .gallery-input{display:flex;gap:0.5rem;margin-bottom:1rem}:host .gallery-input input{flex:1;padding:0.5rem;border:1px solid #ccc;border-radius:4px}:host .gallery-input button{padding:0.5rem 1rem;background:#0078d7;color:white;border:none;border-radius:4px;cursor:pointer}:host .gallery-list{display:flex;flex-direction:column;gap:1rem}:host .gallery-item{border-radius:4px;border:1px solid var(--tertiary-background)}:host .gallery-header{display:flex;justify-content:space-between;align-items:center;background-color:var(--tertiary-background);color:var(--text-primary);padding:0.75rem;text-transform:capitalize}:host .gallery-header h3{margin:0;padding:0}:host .gallery-content{padding:0.75rem}:host .empty-message{color:var(--text-secondary)}:host(.view-only) .button-actions{display:none}";const i=class{constructor(t){e(this,t),t.$hostElement$["s-ei"]?this.internals=t.$hostElement$["s-ei"]:(this.internals=t.$hostElement$.attachInternals(),t.$hostElement$["s-ei"]=this.internals)}get el(){return a(this)}name;label;value="";required=!0;internals;options=[];open=!1;get selectedLabel(){return this.options.find((e=>e.value===this.value))?.label}get displayName(){return this.label||this.name}toggleDropdown=()=>{this.open=!this.open};componentWillLoad(){this.internals.setFormValue(this.value)}onOptionSelect=e=>{this.value=e.value,this.internals.setFormValue(e.value);const t=new CustomEvent("input",{detail:e.value,bubbles:!0,cancelable:!0,composed:!0});this.el.dispatchEvent(t),this.open=!1};render(){return o(r,{key:"6e0c838b6fa38a3ce2687e3aa2c113953646b4bb"},o("div",{key:"804bad328d7a341b53d91c4467dde333011af627",class:"form-element"},o("label",{key:"cc0d1a454ce1f91bd54ede6aca3f2d6b79ff4183",class:"menu-lbl"},this.displayName),o("div",{key:"cc4a36130d4787988ae30efb5f880b3e755479e4",class:{"custom-dropdown":!0,open:this.open}},o("div",{key:"3daf60919d21487ba10480b1700cbb75df97b8ff",class:"custom-dropdown-trigger",onClick:this.toggleDropdown},this.value?o("div",null,this.selectedLabel):o("div",{class:"placeholder"},"Select ",this.displayName)),o("div",{key:"c7871da1861bca656d4d1604a0d86918c2117071",class:"custom-dropdown-menu"},this.options.map((e=>o("div",{onClick:()=>this.onOptionSelect(e),class:{"custom-dropdown-item":!0,active:this.value===e.value}},e.label)))))))}static get formAssociated(){return!0}};i.style=':host{display:block;font-family:system-ui, sans-serif;font-size:inherit;font-weight:normal;color:var(--text-primary)}:host .form-element{position:relative}:host .form-element label{display:block;color:var(--text-primary);font-size:14px;font-weight:450;margin-bottom:4px;font-family:system-ui, -apple-system;text-align:left}:host .form-element textarea,:host .form-element input,:host .form-element select{all:unset;display:block;box-sizing:border-box;width:100%;height:36px;border-radius:8px;padding-bottom:6px;padding-left:12px;padding-right:12px;padding-top:6px;font-size:15px;text-align:left;color:var(--text-primary);border:1px solid var(--quaternary-background);background-color:var(--primary-background)}:host .form-element textarea:focus,:host .form-element input:focus,:host .form-element select:focus{outline:1px solid var(--active-border)}:host .form-element textarea::placeholder,:host .form-element input::placeholder,:host .form-element select::placeholder{color:var(--placeholder);opacity:1}:host .form-element textarea::-webkit-input-placeholder,:host .form-element input::-webkit-input-placeholder,:host .form-element select::-webkit-input-placeholder{color:var(--placeholder)}:host .form-element textarea::-moz-placeholder,:host .form-element input::-moz-placeholder,:host .form-element select::-moz-placeholder{color:var(--placeholder)}:host .form-element textarea:-ms-input-placeholder,:host .form-element input:-ms-input-placeholder,:host .form-element select:-ms-input-placeholder{color:var(--placeholder)}:host .form-element textarea::-ms-input-placeholder,:host .form-element input::-ms-input-placeholder,:host .form-element select::-ms-input-placeholder{color:var(--placeholder)}:host .form-element textarea{height:auto}:host .form-element.horizontal{display:flex;flex-direction:row;align-items:center}:host .form-element.horizontal label{margin-bottom:0px}:host{display:block;margin:8px 0;font-size:15px;text-align:left}:host .custom-dropdown{position:relative;width:100%;height:36px;-webkit-user-select:none;user-select:none}:host .custom-dropdown-trigger{height:100%;box-sizing:border-box;position:relative;display:flex;align-items:center;justify-content:space-between;border-radius:8px;padding-bottom:6px;padding-left:12px;padding-right:12px;padding-top:6px;font-size:15px;color:var(--text-primary);border:1px solid var(--quaternary-background);background-color:var(--primary-background)}:host .custom-dropdown-trigger:focus{outline:1px solid var(--active-border)}:host .custom-dropdown-trigger::after{content:"";display:inline-block;border:solid currentColor;border-width:0 2px 2px 0;padding:2px;transform:rotate(45deg);transition:transform 0.2s ease;margin-left:8px}:host .custom-dropdown-trigger.open::after{transform:rotate(-135deg)}:host .custom-dropdown-menu{display:none;position:absolute;top:100%;left:0;width:100%;border-top:none;border-radius:8px;max-height:200px;overflow-y:auto;z-index:999;font-size:14px;font-size-adjust:0.5;box-sizing:border-box;color:var(--text-primary);border:1px solid var(--tertiary-background);background-color:var(--primary-background);box-shadow:1px 1px 2px var(--box-shadow)}:host .custom-dropdown.open .custom-dropdown-menu{display:block}:host .custom-dropdown-item{padding:10px;cursor:pointer}:host .custom-dropdown-item.active{background-color:var(--tertiary-background)}:host .custom-dropdown-item:hover{background-color:var(--quaternary-background)}';export{s as image_gallery,i as select_menu}