import{r as e,g as t,h as a,H as c}from"./p-CjXuplqk.js";import{P as s}from"./p-gQj3JY6U.js";import{s as f}from"./p-DIg7BVt4.js";import"./p-BOTfGNKw.js";const o=class{constructor(t){e(this,t)}get el(){return t(this)}props;controller;data;form;componentWillLoad(){this.data=this.props||s.ownDefaults}componentDidLoad(){this.props&&(this.form.addEventListener("input",(e=>this.updateObject(e))),this.form.addEventListener("colorInput",(e=>this.updateObject(e))))}updateObject=async e=>{e.preventDefault();const t=await this.form.formData();t.fill=t.stroke,await this.controller.update(s.type,t)};addNewObject=async e=>{this.updateObject(e),this.close()};close=()=>{this.controller.emit("close")};render(){const e=this.controller.fonts;return a(c,{key:"286d7806b92c3c7170aaad403c539a02898e3628"},a("nav-layout",{key:"282cbcb6691aec6d1354d6111bc9521a89182619"},a("h1",{key:"432fde11d10bd30efbb996b9d5a83731782b0677",slot:"header"},f.labels.textEditor),a("div",{key:"97c01cdb9f0356882195bd57f171d02162151baf",slot:"main"},a("html-form",{key:"81016a0428f896ee4bf71cb214b62ef054f8cf7f",ref:e=>this.form=e,data:this.data},a("div",{key:"db422f407161fd1d7eac6b393ef415d3ab3a5ef7",class:"html-form"},a("div",{key:"a32faca190dd84cb754ffa9ae3f3f38005797909",class:"form-element"},a("input-text",{key:"2bba9cc6b9253987932b4de1c721e8de13de7841",name:"text",label:f.labels.text})),e.length>0&&a("div",{key:"0836bf6d2ccab7549a8f3c2e6064ca741b0cf373",class:"form-element"},a("font-picker",{key:"7bf667c126baf122f43889080ebd53f78bcb6c0a",name:"fontFamily",label:f.labels.fontText,fonts:e})),!1===this.controller.etching&&a("div",{key:"56c7b03e6e2d96a5b71e5e21aab6dc4fe1fc2582",class:"form-element"},a("color-input",{key:"9200f8ce4224d99a5691656d85e87a1e813f9fc8",label:f.labels.fontColor,name:"stroke",value:this.props?.stroke}))))),a("div",{key:"98a7f37f53f7c5eb0eb6c264eee2210c655f75ce",slot:"footer"},a("button",{key:"98bff02603627a246c8f5f4fbcd2fe55517a095d",class:"button-secondary",type:"button",onClick:()=>this.close()},f.labels.closeButton),!this.props&&a("button",{key:"7453548a5d373c76508563c7a0218897632b3087",class:"button-primary",type:"button",onClick:e=>this.addNewObject(e)},f.labels.saveButton))))}};export{o as text_editor}