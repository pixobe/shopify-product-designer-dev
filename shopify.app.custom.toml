# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "885232fa6990808feeabb41a010425a6"
name = "Pixobe Product Designer Custom"
application_url = "https://productdesignerdev.pixobe.com"
embedded = true
handle = "pixobe-product-designer-custom"

[build]
automatically_update_urls_on_dev = false

[webhooks]
api_version = "2025-07"

[[webhooks.subscriptions]]
topics = ["app/uninstalled"]
uri = "/webhooks/app/uninstalled"

[[webhooks.subscriptions]]
topics = ["app/scopes_update"]
uri = "/webhooks/app/scopes_update"

[access_scopes]
# Learn more at https://shopify.dev/docs/apps/tools/cli/configuration#access_scopes
scopes = "read_metaobjects,read_orders,read_products,unauthenticated_read_metaobjects,unauthenticated_read_product_listings,write_files,write_metaobject_definitions,write_metaobjects,write_products"

[auth]
redirect_urls = [
    "https://productdesignerdev.pixobe.com/auth/callback",
    "https://productdesignerdev.pixobe.com/shopify/callback",
    "https://productdesignerdev.pixobe.com/api/auth/callback",
]

[app_proxy]
url = "https://productdesignerdev.pixobe.com/api"
subpath = "pixobe-product-designer"
prefix = "apps"

[pos]
embedded = false


[metafields]
api_version = "2026-01"

[metaobjects.app.product_media_item]
name = "Pixobe Media Settings"
display_name_field = "config"
description = "Stores a media reference plus Pixobe's raw configuration payload."

[metaobjects.app.product_media_item.access]
admin = "merchant_read_write"
storefront = "public_read"

[metaobjects.app.product_media_item.fields.config]
name = "Product Media config json"
type = "json"
description = "Arbitrary Pixobe configuration copied verbatim into the object's `config`."

[variant.metafields.app.pixobe_media_items]
type = "list.metaobject_reference<$app:product_media_item>"
name = "Pixobe Media Config"
description = "Ordered list of Pixobe media entries attached to the product."

access.storefront = "public_read"
access.admin = "merchant_read_write"
